import{g as H,i as U,a as K,D as X}from"./DoughnutChart.d5ce3c1d.js";import{d as E,r as u,j as P,_ as h,b as c,o as y,c as v,h as d,F as L,f as B,e as s,w as m,t as D,p as M,q as O,s as T,v as z,y as Q,i as S,z as Z,g as q,u as J}from"./index.5ad5b96b.js";import{h as b}from"./moment.9709ab41.js";import{u as w}from"./school.abe7d252.js";import{u as ee,f as ae,a as te}from"./family.7eb19873.js";import{a as ne,d as oe,b as se,e as le,f as ie,g as re,s as ue,h as ce}from"./study.dd7cd5fb.js";import{r as _e}from"./request.a667e329.js";const de=E({name:"CompletedAmountOverview",props:{dataSource:{type:Object,default:()=>({})},dataSourceAvg:{type:Object,default:()=>({})}},setup(e){const a=u({total:{title:"\u603B\u8BBF\u95EE\u91CF",icon:"overview_total_icon_img",num:1192,tag:{title:"\u4ECA\u65E5\u65B0\u589E",num:192},averageDaily:{title:"\u65E5\u5747\u8BBF\u95EE\u91CF",num:269}},daily:{title:"\u6BCF\u65E5\u4E00\u5B66\u603B\u5B66\u4E60\u91CF",icon:"overview_daily_icon_img",num:1192,tag:{title:"\u4ECA\u65E5\u65B0\u589E",num:192},averageDaily:{title:"\u65E5\u5747\u5B66\u4E60\u91CF",num:269}},weekly:{title:"\u6BCF\u5468\u4E00\u505A\u603B\u5B8C\u6210\u91CF",icon:"overview_weekly_icon_img",num:1192,tag:{title:"\u4ECA\u65E5\u65B0\u589E",num:192},averageDaily:{title:"\u65E5\u5747\u5B8C\u6210\u91CF",num:269}},monthy:{title:"\u6BCF\u6708\u4E00\u8BFE\u603B\u5B66\u4E60\u91CF",icon:"overview_monthly_icon_img",num:1192,tag:{title:"\u4ECA\u65E5\u65B0\u589E",num:192},averageDaily:{title:"\u65E5\u5747\u5B66\u4E60\u91CF",num:269}}}),t=u(e.dataSource),n=u(e.dataSourceAvg);return P(()=>{t.value=e.dataSource,n.value=e.dataSourceAvg,Object.keys(t.value).length>0&&(a.value.total.num=t.value.daily+t.value.weekly+t.value.monthy,a.value.total.tag.num=t.value.all_today,a.value.total.averageDaily.num=Math.ceil(n.value.all_num/n.value.day_num),a.value.daily.num=t.value.daily,a.value.daily.tag.num=t.value.daily,a.value.daily.averageDaily.num=Math.ceil(n.value.daily/n.value.day_num),a.value.weekly.num=t.value.weekly,a.value.weekly.tag.num=t.value.weekly_today,a.value.weekly.averageDaily.num=Math.ceil(n.value.weekly/n.value.day_num),a.value.monthy.num=t.value.monthy,a.value.monthy.tag.num=t.value.monthy_today,a.value.monthy.averageDaily.num=Math.ceil(n.value.monthy/n.value.day_num))}),{overviewListRef:a,getImageUrl:H}}});const pe={class:"completed-amount-overview-container"},me={class:"completed-amount-overview-ul flex"},ge={class:"flex"},ye={class:"title-style"},ve={class:"flex-start align-end"},fe={class:"total-num-style"},Ce={class:"tag-box flex-center"},De={class:"flex-start"},he={class:"average-daily-title-style"},Ee={class:"average-daily-num-style"};function Ae(e,a,t,n,i,l){const o=c("el-image"),r=c("el-card");return y(),v("div",pe,[d("ul",me,[(y(!0),v(L,null,B(e.overviewListRef,(_,f)=>(y(),v("li",{key:f,class:"completed-amount-overview-li"},[s(r,{class:"el-card-style","body-style":{padding:"0px"}},{default:m(()=>[d("header",ge,[d("p",ye,D(_.title),1),s(o,{class:"header-icon-style",src:e.getImageUrl(_.icon+".png")},null,8,["src"])]),d("article",ve,[d("p",fe,D(_.num),1),d("div",Ce,[d("p",null,D(_.tag.title),1),d("p",null,D(_.tag.num),1)])]),d("footer",De,[d("p",he,D(_.averageDaily.title),1),d("p",Ee,D(_.averageDaily.num),1)])]),_:2},1024)]))),128))])])}const Re=h(de,[["render",Ae],["__scopeId","data-v-25627a6f"]]),Se=E({name:"LearningTrend",props:{echartsData:{type:[Array,Object],default:()=>[]},dateType:{type:String,defualt:""}},setup(e){const a=u(),t=u(),n=u(["01\u65E5","02\u65E5","03\u65E5","04\u65E5","05\u65E5","06\u65E5"]),i=u([1e3,2e3,3e3,4e3,5e3,6e3]),l=(o,r)=>{const _=[];o.forEach(A=>{A.type===r&&_.push(A)});const f=new Set(_),C=Array.from(f),g=[],p=[];return Array.isArray(C)&&C.forEach(A=>{A.dates&&g.push(A.dates),A.count&&p.push(A.count)}),{xAxisData:g,seriesData:p}};return M(()=>{const o=document.getElementById("LearningTrendChart"),r=U(o);P(()=>{a.value=e.echartsData,t.value=e.dateType;const _=l(a.value,t.value);n.value=_.xAxisData,i.value=_.seriesData;const f=u({xAxis:{type:"category",data:n.value},yAxis:{type:"value"},grid:{top:"5%",left:"5%"},series:[{data:i.value,type:"bar",barWidth:"24",itemStyle:{borderRadius:0,color:"#1890FF"}}]});f.value&&r.setOption(f.value)})}),{}}});const j=e=>(O("data-v-f659322c"),e=e(),T(),e),be={class:"learning-trend-container"},Pe=j(()=>d("header",null,[d("p",{class:"title-style"},"\u5B66\u4E60\u8D8B\u52BF")],-1)),ke=j(()=>d("article",null,[d("div",{id:"LearningTrendChart",class:"learning-trend-chart"})],-1)),we=[Pe,ke];function Fe(e,a,t,n,i,l){return y(),v("div",be,we)}const $e=h(Se,[["render",Fe],["__scopeId","data-v-f659322c"]]);function F(){const e=(n,i)=>{const l=w().classList;console.log("calssList :>> ",l,Array.isArray(l));let o={id:-1,name:"\u5F02\u5E38\u6570\u636E"};return Array.isArray(l)&&(o=l[i]),`${a(n)}(${o?o.name:""})`},a=n=>{const i=w().gradeList;let l={id:-1,name:"\u5F02\u5E38\u6570\u636E"};if(Array.isArray(i))return l=i[parseInt(b().format("YYYY"))-n],l.name};return{getGradeClassName:e,getGraderName:a,getParentsName:n=>`${ee().getFamilyRoleList[n].name}`}}const Ie=E({name:"CustomStudyRanking",props:{listData:{type:[Array,Object],defualt:()=>[]}},setup(e){const a=u(),t=i=>{const l=[];for(const o of i)l.push({name:F().getGradeClassName(o.year,o.class),num:`${o.count}\u4EBA`});return l},n=u([{name:"\u4E00\u5E74\u7EA7\uFF082\uFF09\u73ED",num:"120\u4EBA"},{name:"\u4E00\u5E74\u7EA7\uFF082\uFF09\u73ED",num:"120\u4EBA"},{name:"\u4E00\u5E74\u7EA7\uFF082\uFF09\u73ED",num:"120\u4EBA"},{name:"\u4E00\u5E74\u7EA7\uFF082\uFF09\u73ED",num:"120\u4EBA"},{name:"\u4E00\u5E74\u7EA7\uFF082\uFF09\u73ED",num:"120\u4EBA"},{name:"\u4E00\u5E74\u7EA7\uFF082\uFF09\u73ED",num:"120\u4EBA"},{name:"\u4E00\u5E74\u7EA7\uFF082\uFF09\u73ED",num:"120\u4EBA"}]);return P(()=>{if(a.value=e.listData,a.value!==void 0&&a.value.data){n.value=t(a.value.data);return}n.value=[],console.log("StudyRankingListRef.value :>> ",n.value)}),{StudyRankingListRef:n}}});const Le={class:"custom-study-ranking-container"},Be={key:0,class:"study-ranking-ul"},Oe={class:"left-box-style flex-start"},Te={class:"study-ranking-name-style"},Me={class:"study-ranking-num-style"};function Ne(e,a,t,n,i,l){return y(),v("div",Le,[e.StudyRankingListRef.length>0?(y(),v("ul",Be,[(y(!0),v(L,null,B(e.StudyRankingListRef,(o,r)=>(y(),v("li",{key:r,class:"study-ranking-li flex"},[d("div",Oe,[d("p",{class:z(["study-ranking-sort-style",{"top-three-sort-style":r<=2,"top-other-sort-style":r>2}])},D(r+1),3),d("p",Te,D(o.name),1)]),d("p",Me,D(o.num),1)]))),128))])):Q("",!0)])}const x=h(Ie,[["render",Ne],["__scopeId","data-v-684f5e50"]]),Ue=E({name:"StudyRanking",components:{CustomStudyRanking:x},props:{listData:{type:[Array,Object],defualt:()=>[]}},setup(e){const a=u();return P(()=>{a.value=e.listData}),{listDataRef:a}}});const je=e=>(O("data-v-2ed10ece"),e=e(),T(),e),xe={class:"study-ranking-container"},Ve=je(()=>d("header",null,[d("p",{class:"title-style"},"\u73ED\u7EA7\u5B66\u4E60\u4EBA\u6570\u6392\u540D")],-1));function Ge(e,a,t,n,i,l){const o=c("CustomStudyRanking");return y(),v("div",xe,[Ve,d("article",null,[s(o,{listData:e.listDataRef},null,8,["listData"])])])}const Ye=h(Ue,[["render",Ge],["__scopeId","data-v-2ed10ece"]]);function We(){const e=u("daily"),a=u("2022-08-19"),t=u("2022-08-19"),n=()=>{a.value=b().format("YYYY-MM-DD"),t.value=b().format("YYYY-MM-DD")},i=()=>{const g=b().weekday()===0?7:b().weekday();a.value=b().subtract(g-1,"days").format("YYYY-MM-DD"),t.value=b().add(7-g,"days").format("YYYY-MM-DD")},l=()=>{const g=b().format("YYYY"),p=b().format("MM");a.value=b([g,0,1]).month(parseInt(p)-1).format("YYYY-MM-DD"),t.value=b([g,0,31]).month(parseInt(p)-1).format("YYYY-MM-DD")},o=g=>{if(typeof g.paneName=="string")switch(e.value=g.paneName,e.value){case"daily":n();break;case"weekly":i();break;case"monthy":l();break}_(a.value,t.value),C(e.value)},r=u(),_=async(g,p)=>{const k=await ne({start_date:g,end_date:p});r.value=Array.isArray(k)?k:[k]},f=u(),C=async g=>{const A=await oe({limit:7,page:1,type:g,school_id:1});f.value=A};return M(()=>{_(a.value,t.value),C(e.value)}),{activeTypeRef:e,changeActiveType:o,studyDashboardCompleteListRef:r,studyDashboardRankClassRef:f}}const He=E({name:"OverviewChart",components:{LearningTrend:$e,StudyRanking:Ye},setup(){return{...We()}}});const Ke={class:"overview-chart-container"},Xe={class:"flex"};function ze(e,a,t,n,i,l){const o=c("el-tab-pane"),r=c("el-tabs"),_=c("LearningTrend"),f=c("StudyRanking"),C=c("el-card");return y(),v("div",Ke,[s(C,{class:"el-card-style","body-style":{padding:"0px"}},{default:m(()=>[d("header",null,[s(r,{modelValue:e.activeTypeRef,"onUpdate:modelValue":a[0]||(a[0]=g=>e.activeTypeRef=g),class:"demo-tabs",onTabClick:e.changeActiveType},{default:m(()=>[s(o,{label:"\u6BCF\u65E5\u4E00\u5B66",name:"daily"}),s(o,{label:"\u6BCF\u5468\u4E00\u505A",name:"weekly"}),s(o,{label:"\u6BCF\u6708\u4E00\u8BFE",name:"monthy"})]),_:1},8,["modelValue","onTabClick"])]),d("article",Xe,[s(_,{echartsData:e.studyDashboardCompleteListRef,dateType:e.activeTypeRef},null,8,["echartsData","dateType"]),s(f,{listData:e.studyDashboardRankClassRef},null,8,["listData"])])]),_:1})])}const Qe=h(He,[["render",ze],["__scopeId","data-v-5d5589b3"]]),Ze=E({name:"CustomPagination",props:{total:{type:Number,default:0},page:{type:Number,defualt:1},limit:{type:Number,defualt:10}},setup(e,a){const t=u(0),n=u(1),i=u(10),l=o=>{n.value=o,a.emit("change",n.value)};return P(()=>{t.value=e.total,e.page&&(n.value=e.page),e.limit&&(i.value=e.limit)}),{totalRef:t,pageRef:n,limitRef:i,changePage:l}}});const qe={class:"custom-pagination-container flex-start"},Je={class:"demonstration"};function ea(e,a,t,n,i,l){const o=c("el-pagination");return y(),v("div",qe,[d("div",Je,"\u5171"+D(e.totalRef)+"\u6761\u8BB0\u5F55",1),s(o,{small:"",background:"",layout:"prev, pager, next",total:e.totalRef,"current-page":e.pageRef,onCurrentChange:e.changePage},null,8,["total","current-page","onCurrentChange"])])}const N=h(Ze,[["render",ea],["__scopeId","data-v-2802132b"]]);function aa(){const e=u("daily"),a=u(1),t=u(10),n=u(0),i=_=>{a.value=_,console.log("pageRef.value :>> ",a.value)},l=u(),o=_=>{e.value=_.val},r=async _=>{const f={limit:`${t.value}`,page:`${a.value}`,type:_},C=await se(f);l.value=C.data,typeof C.total=="number"&&(n.value=C.total)};return P(()=>{const _=e.value;typeof _=="string"&&r(_)}),{hotConentList:l,changeTabs:o,paramTypeRef:e,changePage:i,pageRef:a,limitRef:t,totalRef:n}}const ta=E({name:"HotRanking",components:{CustomPagination:N},setup(){return{headerCellStyle:{color:"#606266","background-color":"#F6F8FA"},...aa()}}});const na=e=>(O("data-v-2ae22518"),e=e(),T(),e),oa={class:"hot-ranking-container"},sa={class:"flex"},la=na(()=>d("p",{class:"title-style"},"\u70ED\u95E8\u5185\u5BB9\u6392\u884C",-1)),ia=S("\u6BCF\u65E5\u4E00\u5B66"),ra=S("\u6BCF\u5468\u4E00\u505A"),ua=S("\u6BCF\u6708\u4E00\u8BFE"),ca={class:"flex-end"};function _a(e,a,t,n,i,l){const o=c("el-radio-button"),r=c("el-radio-group"),_=c("el-table-column"),f=c("el-table"),C=c("CustomPagination"),g=c("el-card");return y(),v("div",oa,[s(g,{class:"el-card-style","body-style":{padding:"0px"}},{default:m(()=>[d("header",sa,[la,s(r,{class:"el-radio-group-style",modelValue:e.paramTypeRef,"onUpdate:modelValue":a[0]||(a[0]=p=>e.paramTypeRef=p),style:{"margin-bottom":"30px"}},{default:m(()=>[s(o,{label:"daily"},{default:m(()=>[ia]),_:1}),s(o,{label:"weekly"},{default:m(()=>[ra]),_:1}),s(o,{label:"monthy"},{default:m(()=>[ua]),_:1})]),_:1},8,["modelValue"])]),d("article",null,[s(f,{data:e.hotConentList,style:{width:"100%"},"header-cell-style":e.headerCellStyle},{default:m(()=>[s(_,{type:"index",label:"\u6392\u540D",width:"60",align:"center"}),s(_,{prop:"title",label:"\u5185\u5BB9\u6807\u9898"}),s(_,{prop:"count",label:"\u5B8C\u6210\u91CF",width:"110",align:"center"})]),_:1},8,["data","header-cell-style"])]),d("footer",ca,[s(C,{total:e.totalRef,page:e.pageRef,limit:e.limitRef,onChangePage:e.changePage},null,8,["total","page","limit","onChangePage"])])]),_:1})])}const da=h(ta,[["render",_a],["__scopeId","data-v-2ae22518"]]);function pa(){const e=w().schoolInfo,a=u("grade"),t=u(),n=async i=>{const l=e.id,r=await le({type:i,school_id:l});console.log("res_\u5B66\u4E60\u6392\u884C :>> ",r),t.value=r,console.log("studyDashboardRankClassTypeRef.value :>> ",t.value)};return P(()=>{n(a.value)}),{tabPositionRef:a,studyDashboardRankClassTypeRef:t}}const ma=E({name:"LearningRanking",components:{CustomPagination:N},setup(){return{headerCellStyle:{color:"#606266","background-color":"#F6F8FA"},...pa(),...F()}}});const ga=e=>(O("data-v-975a9dfe"),e=e(),T(),e),ya={class:"learning-ranking-container"},va={class:"flex"},fa=ga(()=>d("p",{class:"title-style"},"\u5B66\u4E60\u6392\u884C",-1)),Ca=S("\u5E74\u7EA7\u6392\u884C"),Da=S("\u73ED\u7EA7\u6392\u884C"),ha={class:"flex-end"};function Ea(e,a,t,n,i,l){const o=c("el-radio-button"),r=c("el-radio-group"),_=c("el-table-column"),f=c("el-table"),C=c("CustomPagination"),g=c("el-card");return y(),v("div",ya,[s(g,{class:"el-card-style","body-style":{padding:"0px"}},{default:m(()=>[d("header",va,[fa,s(r,{class:"el-radio-group-style",modelValue:e.tabPositionRef,"onUpdate:modelValue":a[0]||(a[0]=p=>e.tabPositionRef=p),style:{"margin-bottom":"30px"}},{default:m(()=>[s(o,{label:"grade"},{default:m(()=>[Ca]),_:1}),s(o,{label:"class"},{default:m(()=>[Da]),_:1})]),_:1},8,["modelValue"])]),d("article",null,[s(f,{data:e.studyDashboardRankClassTypeRef,style:{width:"100%"},"header-cell-style":e.headerCellStyle},{default:m(()=>[s(_,{type:"index",label:"\u6392\u540D",width:"60",align:"center"}),s(_,{label:"\u540D\u79F0",width:"124"},{default:m(p=>[S(D(e.getGradeClassName(p.row.info.year,p.row.info.class)),1)]),_:1}),s(_,{label:"\u5B66\u4E60\u603B\u91CF",align:"center"},{default:m(p=>[S(D(p.row.count.daily),1)]),_:1}),s(_,{label:"\u6D3B\u52A8\u603B\u91CF",align:"center"},{default:m(p=>[S(D(p.row.count.weekly),1)]),_:1}),s(_,{label:"\u603B\u5B8C\u6210\u91CF",align:"center"},{default:m(p=>[S(D(p.row.count.monthy),1)]),_:1})]),_:1},8,["data","header-cell-style"])]),d("footer",ha,[s(C)])]),_:1})])}const Aa=h(ma,[["render",Ea],["__scopeId","data-v-975a9dfe"]]),Ra=E({name:"WordCloud",props:{listData:{type:[Array,Object],default:()=>[]}},setup(e){const a=u();return P(()=>{a.value=e.listData}),{listRef:a,getRandom:K}}});const Sa={class:"word-cloud-container"},ba={class:"cloud",role:"navigation","aria-label":"Webdev word cloud"},Pa=["data-weight"];function ka(e,a,t,n,i,l){return y(),v("div",Sa,[d("ul",ba,[(y(!0),v(L,null,B(e.listRef,o=>(y(),v("li",{key:o.id},[d("a",{href:"#","data-weight":e.getRandom(1,9)},D(o.name),9,Pa)]))),128))])])}const wa=h(Ra,[["render",ka],["__scopeId","data-v-1c0bc7b5"]]),Fa=E({name:"CustomCard",props:{title:{type:String,default:"\u6807\u9898"}},setup(e){return{titleRef:u(e.title)}}});const $a={class:"custom-card-container"},Ia={class:"title-style"};function La(e,a,t,n,i,l){const o=c("el-card");return y(),v("div",$a,[s(o,{class:"el-card-style","body-style":{padding:"0px"}},{default:m(()=>[d("header",null,[d("p",Ia,D(e.titleRef),1)]),d("article",null,[Z(e.$slots,"default",{},void 0,!0)])]),_:3})])}const $=h(Fa,[["render",La],["__scopeId","data-v-fc129a03"]]),Ba=async e=>await _e.post("http://api.ps.familyeducation.org.cn/v1/tag/info/list",e);function Oa(){const e=u();return(async()=>{const n=await Ba({});e.value=n})(),{tagInfoListRef:e}}const Ta=E({name:"HotTag",components:{WordCloud:wa,CustomCard:$},setup(){return{...Oa()}}});const Ma={class:"hot-tag-container"},Na={class:"word-cloud-box"};function Ua(e,a,t,n,i,l){const o=c("WordCloud"),r=c("CustomCard");return y(),v("div",Ma,[s(r,{title:"\u70ED\u95E8\u6807\u7B7E"},{default:m(()=>[d("div",Na,[s(o,{listData:e.tagInfoListRef},null,8,["listData"])])]),_:1})])}const ja=h(Ta,[["render",Ua],["__scopeId","data-v-715881cc"]]);function xa(){console.log("useSchoolStore().schoolInfo :>> ",w().getSchoolInfo);const e=w().getSchoolInfo,a=u();return(async()=>{const n={school_id:e.id},i=await ie(n);console.log("res_\u5BB6\u5EAD\u6784\u6210\u5206\u6790 :>> ",i);const l=[];Array.isArray(i)&&i.forEach(o=>{const r=F().getParentsName(o.family_role_id);l.push({value:o.count,name:r})}),a.value=l})(),{familyDashboardMemberGroupRoleRef:a}}const Va=E({name:"FamilyCompositionAnalysis",components:{CustomCard:$,DoughnutChart:X},setup(){return{legend:{orient:"vertical",top:"center",right:90},title:{text:"\u5BB6\u5EAD\u6784\u6210",subtext:"",left:150,top:"center",textStyle:{fontSize:14},subtextStyle:{fontSize:16}},...xa()}}});const Ga={class:"family-composition-analysis-container"};function Ya(e,a,t,n,i,l){const o=c("DoughnutChart"),r=c("CustomCard");return y(),v("div",Ga,[s(r,{title:"\u5BB6\u5EAD\u6784\u6210\u5206\u6790"},{default:m(()=>[s(o,{legend:e.legend,title:e.title,width:"60%",left:"0",echartsData:e.familyDashboardMemberGroupRoleRef},null,8,["legend","title","echartsData"])]),_:1})])}const Wa=h(Va,[["render",Ya],["__scopeId","data-v-60343860"]]),Ha=E({name:"BarChart",props:{gradeNames:{type:Array,default:()=>[]},bindNums:{type:Array,default:()=>[]}},setup(e){return M(()=>{const a=u(),t=u(),n=document.getElementById("barChart"),i=U(n),l=u({title:{text:""},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{show:!1,bottom:0},grid:{top:24,left:"3%",right:"4%",bottom:24,containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:a},series:[{name:"\u5E74\u7EA7",type:"bar",label:{show:!0,color:"#fff",fontSize:12},data:t}],barWidth:16,color:"#1890FF"});P(()=>{a.value=e.gradeNames,t.value=e.bindNums,l.value&&i.setOption(l.value)})}),{}}});const Ka={id:"barChart",class:"bar-chart-container"};function Xa(e,a,t,n,i,l){return y(),v("div",Ka)}const za=h(Ha,[["render",Xa],["__scopeId","data-v-c1ab10cf"]]);function Qa(){const e=u(),a=u(),t=u(),n=()=>{a.value=[],t.value=[],Array.isArray(e.value)&&e.value.forEach(l=>{a.value.push(F().getGraderName(l.year)),t.value.push(l.count)}),console.log("gradeNamesRef :>> ",a.value),console.log("bindNumsRef :>> ",t.value)};return(async()=>{const o={school_id:w().getSchoolInfo.id},r=await ae(o);console.log("res_\u5E74\u7EA7\u5BB6\u957F\u7ED1\u5B9A\u6570 :>> ",r),e.value=r,n()})(),{gradeNamesRef:a,bindNumsRef:t}}const Za=E({name:"GradeParentsBoundNum",components:{CustomCard:$,BarChart:za},setup(){return{...Qa()}}});const qa={class:"grade-parents-bound-num-container"};function Ja(e,a,t,n,i,l){const o=c("BarChart"),r=c("CustomCard");return y(),v("div",qa,[s(r,{title:"\u5E74\u7EA7\u5BB6\u957F\u7ED1\u5B9A\u6570"},{default:m(()=>[s(o,{bindNums:e.bindNumsRef,gradeNames:e.gradeNamesRef},null,8,["bindNums","gradeNames"])]),_:1})])}const et=h(Za,[["render",Ja],["__scopeId","data-v-ee246aa4"]]);function at(){const e=u(),a=u();return(async()=>{const i=await te({school_id:1});console.log("res_\u73ED\u7EA7\u5BB6\u957F\u7ED1\u5B9A\u6392\u540D :>> ",i),e.value=i,a.value=i.data})(),{familyDashboardGroupParentClassRef:e,familyDashboardGroupParentClassListDataRef:a}}const tt=E({name:"ClassBindingParentRanking",components:{CustomCard:$,CustomStudyRanking:x},setup(){return{...at()}}});const nt={class:"class-binding-parent-ranking-container"};function ot(e,a,t,n,i,l){const o=c("CustomStudyRanking"),r=c("CustomCard");return y(),v("div",nt,[s(r,{title:"\u73ED\u7EA7\u7ED1\u5B9A\u5BB6\u957F\u4EBA\u6570\u6392\u540D"},{default:m(()=>[s(o,{listData:e.familyDashboardGroupParentClassRef},null,8,["listData"])]),_:1})])}const st=h(tt,[["render",ot],["__scopeId","data-v-7efec27b"]]),lt=E({name:"CustomDropdown",props:{active:{type:Object,default:()=>({name:"\u9ED8\u8BA4\u9009\u9879",id:-1})},listData:{type:[Array,Object],default:()=>[]}},setup(e,a){const t=u(),n=u(e.listData),i=l=>{console.log("val :>> ",l),console.log("active.id :>> ",n.value);const o=u();n.value.forEach(r=>{l===r.id&&(o.value=r)}),a.emit("change",o.value)};return P(()=>{t.value=e.active,console.log("activeRef.value :>> ",t.value)}),{activeRef:t,listDataRef:n,onCommand:i}}});const it={class:"custom-dropdown-contaienr"},rt={class:"el-dropdown-link"};function ut(e,a,t,n,i,l){const o=c("arrow-down"),r=c("el-icon"),_=c("el-dropdown-item"),f=c("el-dropdown-menu"),C=c("el-dropdown");return y(),v("div",it,[s(C,null,{dropdown:m(()=>[s(f,null,{default:m(()=>[(y(!0),v(L,null,B(e.listDataRef,g=>(y(),q(_,{key:g.id,onClick:p=>e.onCommand(g.id)},{default:m(()=>[S(D(g.name),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:m(()=>[d("span",rt,[S(D(e.activeRef.name)+" ",1),s(r,{class:"el-icon--right"},{default:m(()=>[s(o)]),_:1})])]),_:1})])}const ct=h(lt,[["render",ut],["__scopeId","data-v-2df3e5b0"]]);function _t(){const e=J(),a=u({name:"\u5168\u90E8\u5E74\u7EA7",id:-1}),t=u({name:"\u5168\u90E8\u73ED\u7EA7",id:-1}),n={"background-color":"#F6F8FA",color:"#606266"},i=u(),l=R=>b(R).format("YYYY-MM-DD HH:mm:ss"),o=u(1),r=u(10),_=u(0),f=R=>{o.value=R},C=u(),g=async()=>{const R=parseInt(b().format("YYYY"))-a.value.id,W={limit:10,page:1,school_id:1,year:a.value.id!==-1?R:"",class:t.value.id!==-1?t.value.id:"",student_id:18},I=await re(W);console.log("res_\u5BB6\u957F\u652F\u6301\u5DE5\u4F5C\u60C5\u51B5 :>> ",I),C.value=I,i.value=I.data,_.value=I.total};g();const p=w(),A=u(p.getGradeList),k=u(p.getClassList),V=R=>{console.log("val :>> ",R),a.value=R,g()},G=R=>{console.log("val :>> ",R),t.value=R,g()},Y=R=>{console.log("val :>> ",R),e.push({path:"/parentsLearnDetailsView",query:{uid:R.uid,student_id:R.student_id}})};return{studyDashboardCompleteParentListRef:C,gradeActiveRef:a,classActiveRef:t,headerCellStyle:n,tableDataRef:i,fmtDateFn:l,...F(),gradeListRef:A,classListRef:k,gradeChange:V,classChange:G,pageRef:o,limitRef:r,totalRef:_,onChangePage:f,onToView:Y}}const dt=E({name:"ParentSupportWorkSituation",components:{CustomCard:$,CustomDropdown:ct,CustomPagination:N},setup(){return{..._t()}}});const pt={class:"parent-support-work-situation-container"},mt={class:"filter-box"},gt=S(" \u67E5\u770B "),yt={class:"flex-end"};function vt(e,a,t,n,i,l){const o=c("CustomDropdown"),r=c("el-table-column"),_=c("el-button"),f=c("el-table"),C=c("CustomPagination"),g=c("CustomCard");return y(),v("div",pt,[s(g,{title:"\u5BB6\u957F\u652F\u6301\u5DE5\u4F5C\u60C5\u51B5"},{default:m(()=>[d("div",mt,[s(o,{active:e.gradeActiveRef,listData:e.gradeListRef,onChange:e.gradeChange},null,8,["active","listData","onChange"]),s(o,{class:"filter-class-style",active:e.classActiveRef,listData:e.classListRef,onChange:e.classChange},null,8,["active","listData","onChange"])]),s(f,{class:"el-table-style",data:e.tableDataRef,"header-cell-style":e.headerCellStyle,style:{width:"100%"}},{default:m(()=>[s(r,{type:"index",label:"\u6392\u540D",width:"60",align:"center"}),s(r,{prop:"wx_name",label:"\u5BB6\u957F"}),s(r,{prop:"studentInfo",label:"\u5B66\u751F\u4FE1\u606F",align:"center"},{default:m(p=>[S(D(p.row.name)+" | "+D(e.getGradeClassName(p.row.year,p.row.class)),1)]),_:1}),s(r,{prop:"daily_count",label:"\u6BCF\u65E5\u4E00\u5B66",align:"center"}),s(r,{prop:"weekly_count",label:"\u6BCF\u5468\u4E00\u505A",align:"center"}),s(r,{prop:"monthy_count",label:"\u6BCF\u6708\u4E00\u8BFE",align:"center"}),s(r,{prop:"date",label:"\u6700\u8FD1\u4E0A\u7EBF\u65F6\u95F4",align:"center"},{default:m(p=>[S(D(e.fmtDateFn(p.row.date)),1)]),_:1}),s(r,{prop:"date",label:"\u64CD\u4F5C",align:"center"},{default:m(p=>[s(_,{type:"primary",link:"",onClick:A=>e.onToView(p.row)},{default:m(()=>[gt]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","header-cell-style"]),d("footer",yt,[s(C,{page:e.pageRef,limit:e.limitRef,total:e.totalRef,onChange:e.onChangePage},null,8,["page","limit","total","onChange"])])]),_:1})])}const ft=h(dt,[["render",vt],["__scopeId","data-v-24bf8fd7"]]);function Ct(){const e=u({}),a=u({}),t=async()=>{const l=await ue({});e.value=l},n=async()=>{const l=await ce({});a.value=l};return t(),n(),{studyDashboardCompleteCountRef:e,studyDashboardCompleteDailyRef:a}}const Dt={name:"dataVisualizationView",components:{CompletedAmountOverview:Re,OverviewChart:Qe,HotRanking:da,LearningRanking:Aa,HotTag:ja,FamilyCompositionAnalysis:Wa,GradeParentsBoundNum:et,ClassBindingParentRanking:st,ParentSupportWorkSituation:ft},setup(){return{...Ct()}}};const ht={class:"data-visualization-view-container"},Et={class:"row-style flex"},At={class:"row-style flex"},Rt={class:"row-style flex"},St={class:"row-style"};function bt(e,a,t,n,i,l){const o=c("CompletedAmountOverview"),r=c("OverviewChart"),_=c("HotRanking"),f=c("LearningRanking"),C=c("HotTag"),g=c("FamilyCompositionAnalysis"),p=c("GradeParentsBoundNum"),A=c("ClassBindingParentRanking"),k=c("ParentSupportWorkSituation");return y(),v("div",ht,[s(o,{dataSource:e.studyDashboardCompleteCountRef,dataSourceAvg:e.studyDashboardCompleteDailyRef},null,8,["dataSource","dataSourceAvg"]),s(r,{class:"overview-chart-style"}),d("div",Et,[s(_),s(f)]),d("div",At,[s(C),s(g)]),d("div",Rt,[s(p),s(A)]),d("div",St,[s(k)])])}const Bt=h(Dt,[["render",bt],["__scopeId","data-v-b2ecde9c"]]);export{Bt as default};
